; FIBONACCI IN P8

; %R0	-	I
; %R1	-	T1
; %R2	-	T2
; %R3	-	NEXT_TERM

LDI %R2, 1
LDI %R3, 1

; STORE THE INITIAL VALUES (0 AND 1)
LDI %R4, 0
LDI %R5, 1

STI %R4, 0
STI %R5, 1

LDI %R0, 2

FIBLOOP:
	; STORE THE VALUE OF %R3 AT THE POINTER AT %R0
	ST %R0, %R3

	; T1 = T2
	MOV %R1, %R2
	; T2 = NEXT_TERM
	MOV %R2, %R3

	; NEXT_TERM = T1 + T2
	MOV %R3, %R1
	ADD %R3, %R2

	; ++I
	ADD %R0, 1

	JMP FIBLOOP