; FIBONACCI IN P8

; %R0	-	I
; %R1	-	T1
; %R2	-	T2
; %R3	-	NEXT_TERM

; %R4	-	STORES THE VALUE 0
; %R5	-	SOTRES THE VALUE 1

LIM %R4, 0
LIM %R5, 1

LIM %R2, 1
LIM %R3, 1

; STORE THE INITIAL VALUES (0 AND 1)
STR %R4, %R4
STR %R5, %R5

LIM %R0, 2

FIBLOOP:
	; STORE THE VALUE OF %R3 AT THE POINTER AT %R0
	STR %R3, %R0

	; T1 = T2
	MOV %R1, %R2
	; T2 = NEXT_TERM
	MOV %R2, %R3

	; NEXT_TERM = T1 + T2
	MOV %R3, %R1
	ADD %R3, %R2

	; ++I
	ADD %R0, %R5

	JMP FIBLOOP